
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.7.0
  creationTimestamp: null
  name: tenants.multi-tenancy.cybozu.com
spec:
  group: multi-tenancy.cybozu.com
  names:
    kind: Tenant
    listKind: TenantList
    plural: tenants
    singular: tenant
  scope: Cluster
  versions:
  - name: v1beta1
    schema:
      openAPIV3Schema:
        description: Tenant is the Schema for the tenants API
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: TenantSpec defines the desired state of Tenant
            properties:
              argocd:
                description: ArgoCDSpec defines the desired state of the settings
                  for Argo CD
                properties:
                  applications:
                    description: Applications are the list of Application resources
                      managed by the tenant team.
                    items:
                      description: ArgoCDApplicationSpec defines the desired state
                        of Application
                      properties:
                        name:
                          description: Name is the name of Application resource.
                          type: string
                        path:
                          description: Path is a directory path within the Git repository,
                            and is only valid for applications sourced from Git.
                          type: string
                        repoURL:
                          description: RepoURL is the URL to the repository (Git or
                            Helm) that contains the application manifests.
                          type: string
                        targetRevision:
                          description: TargetRevision defines the revision of the
                            source to sync the application to. In case of Git, this
                            can be commit, tag, or branch. If omitted, will equal
                            to HEAD. In case of Helm, this is a semver tag for the
                            Chart's version.
                          type: string
                      required:
                      - name
                      - path
                      - repoURL
                      - targetRevision
                      type: object
                    type: array
                  extraAdmins:
                    description: ExtraAdmins are the names of the team to add to the
                      AppProject user. Specify this if you want other tenant teams
                      to be able to use your AppProject.
                    items:
                      type: string
                    type: array
                  repositories:
                    description: Repositories are the list of repositories used by
                      the tenant team.
                    items:
                      type: string
                    type: array
                type: object
              namespaces:
                items:
                  description: NamespaceSpec defines the desired state of Namespace
                  properties:
                    annotations:
                      additionalProperties:
                        type: string
                      description: Annotations are the annotations to add to the namespace
                      type: object
                    extraAdmins:
                      description: ExtraAdmins are the names of the team to add to
                        the namespace administrator. Specify this if you want other
                        tenant teams to be able to use your namespace.
                      items:
                        type: string
                      type: array
                    labels:
                      additionalProperties:
                        type: string
                      description: Labels are the labels to add to the namespace
                      type: object
                    name:
                      description: Name is the name of namespace to be generated
                      type: string
                  required:
                  - name
                  type: object
                type: array
              teleport:
                description: TeleportSpec defines the desired state of the settings
                  for Teleport
                properties:
                  applications:
                    description: Applications are the list of applications to be used
                      by the tenant team.
                    items:
                      description: TeleportApplicationSpec defines the desired state
                        of Teleport Application.
                      properties:
                        extraArgs:
                          description: ExtraArgs are the list of additional arguments
                            to be specified for Teleport Application Pod.
                          items:
                            type: string
                          type: array
                        name:
                          description: Name is the name of the application to proxy.
                          type: string
                        url:
                          description: URL is the internal address of the application
                            to proxy.
                          type: string
                      required:
                      - name
                      - url
                      type: object
                    type: array
                  node:
                    description: Node is the settings of Teleport Node for the tenant
                      team.
                    properties:
                      extraArgs:
                        description: ExtraArgs are the list of additional arguments
                          to be specified for Teleport Node Pod.
                        items:
                          type: string
                        type: array
                      replicas:
                        description: Replicas is the number of Teleport Node Pods.
                        type: integer
                    required:
                    - replicas
                    type: object
                type: object
            type: object
          status:
            description: TenantStatus defines the observed state of Tenant
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
